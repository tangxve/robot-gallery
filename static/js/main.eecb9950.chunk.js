(this["webpackJsonpreact-robot-gallery"]=this["webpackJsonpreact-robot-gallery"]||[]).push([[0],{18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c,a=n(1),r=n.n(a),s=n(12),o=n.n(s),i=(n(18),n(10)),j=n.n(i),b=n(13),p=n(2),l=n(7),u=n.n(l),d=n(0),O={username:"\u5fb7\u739b\u897f\u4e9a",shoppingCart:{items:[]}},h=r.a.createContext(O),x=r.a.createContext(void 0),m=function(e){var t=Object(a.useState)(O),n=Object(p.a)(t,2),c=n[0],r=n[1];return Object(d.jsx)(h.Provider,{value:c,children:Object(d.jsx)(x.Provider,{value:r,children:e.children})})},f=n(11),g=n(3),v=(c=function(e){var t=e.id,n=e.name,c=e.email,r=e.addToCart,s=Object(a.useContext)(h);return Object(d.jsxs)("div",{className:u.a.cardContainer,children:[Object(d.jsx)("img",{alt:"robot",src:"https://robohash.org/".concat(t)}),Object(d.jsx)("h2",{children:n}),Object(d.jsx)("p",{children:c}),Object(d.jsxs)("p",{children:["\u4f5c\u8005\uff1a",s.username]}),Object(d.jsx)("button",{onClick:function(){return null===r||void 0===r?void 0:r(t,n)},children:"\u52a0\u5165\u8d2d\u7269\u8f66"})]})},function(e){var t=Object(a.useContext)(x);return Object(d.jsx)(c,Object(g.a)(Object(g.a)({},e),{},{addToCart:function(e,n){t&&t((function(t){return Object(g.a)(Object(g.a)({},t),{},{shoppingCart:{items:[].concat(Object(f.a)(t.shoppingCart.items),[{id:e,name:n}])}})}))}}))}),C=function(e){var t=e.id,n=e.name,c=e.email,r=Object(a.useContext)(h),s=function(){var e=Object(a.useContext)(x);return function(t,n){e&&e((function(e){return Object(g.a)(Object(g.a)({},e),{},{shoppingCart:{items:[].concat(Object(f.a)(e.shoppingCart.items),[{id:t,name:n}])}})}))}}();return Object(d.jsxs)("div",{className:u.a.cardContainer,children:[Object(d.jsx)("img",{alt:"robot",src:"https://robohash.org/".concat(t)}),Object(d.jsx)("h2",{children:"\u6253\u6298\u5546\u54c1"}),Object(d.jsx)("h2",{children:n}),Object(d.jsx)("p",{children:c}),Object(d.jsxs)("p",{children:["\u4f5c\u8005\uff1a",r.username]}),Object(d.jsx)("button",{onClick:function(){null===s||void 0===s||s(t,n)},children:"\u52a0\u5165\u8d2d\u7269\u8f66"})]})},_=n.p+"static/media/logo.103b5fa1.svg",S=n(5),k=n.n(S),N=n(8),D=n.n(N),L=function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),c=n[0],r=n[1],s=Object(a.useContext)(h);return Object(d.jsxs)("div",{className:D.a.cartContainer,children:[Object(d.jsx)("button",{className:D.a.button,onClick:function(e){r(!c)},children:Object(d.jsxs)("span",{children:["\u8d2d\u7269\u8f66 ",s.shoppingCart.items.length," \u4ef6"]})}),Object(d.jsx)("div",{className:D.a.cartDropDown,style:{display:c?"block":"none"},children:Object(d.jsx)("ul",{children:s.shoppingCart.items.map((function(e,t){return Object(d.jsx)("li",{children:e.name},t)}))})})]})},w=function(e){var t=Object(a.useState)(0),n=Object(p.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)([]),o=Object(p.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(!1),O=Object(p.a)(u,2),h=O[0],x=O[1],m=Object(a.useState)(""),f=Object(p.a)(m,2),g=f[0],S=f[1];return Object(a.useEffect)((function(){console.log("useEffect3333")}),[c]),Object(a.useEffect)((function(){x(!0);var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/users");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,l(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),S(e.t0.message);case 13:x(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(d.jsxs)("div",{className:k.a.app,children:[Object(d.jsxs)("div",{className:k.a.appHeader,children:[Object(d.jsx)("img",{className:k.a.appLogo,src:_,alt:"logo"}),Object(d.jsx)("h1",{children:"\u673a\u5668\u4eba\u8d2d\u7269\u5e73\u53f0"})]}),Object(d.jsx)("button",{onClick:function(){r(c+1)},children:"\u8d2d\u7269\u8f66"}),Object(d.jsx)("span",{children:c}),Object(d.jsx)(L,{}),!g||""!==g&&Object(d.jsxs)("div",{children:["\u9519\u8bef\u4fe1\u606f\uff1a",g]}),h?Object(d.jsx)("h2",{children:"loading...."}):Object(d.jsx)("div",{className:k.a.robotList,children:i.map((function(e,t){return t%2===0?Object(d.jsx)(C,{id:e.id,name:e.name,email:e.email},e.id):Object(d.jsx)(v,{id:e.id,name:e.name,email:e.email},e.id)}))})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(m,{children:Object(d.jsx)(w,{})})}),document.getElementById("root")),y()},5:function(e,t,n){e.exports={app:"App_app__1kX79",appHeader:"App_appHeader__28RXF",appLogo:"App_appLogo__1qg7-","App-logo-spin":"App_App-logo-spin__1e7sv",robotList:"App_robotList__zTHhD"}},7:function(e,t,n){e.exports={cardContainer:"Robot_cardContainer__19gp-"}},8:function(e,t,n){e.exports={cartContainer:"ShoppingCart_cartContainer__1Gl09",cartDropDown:"ShoppingCart_cartDropDown__23j9i",button:"ShoppingCart_button__3vzc4"}}},[[21,1,2]]]);
//# sourceMappingURL=main.eecb9950.chunk.js.map